:root{
  --bg: #0f1221;
  --card: rgba(255,255,255,0.06);
  --glass: rgba(255,255,255,0.08);
  --text: #ffffff;
  --muted: #aab0c0;
  --accent: #6ee7ff;
  --ok: #22c55e;
  --warn: #f59e0b;
  --bad: #ef4444;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}
body.light{
  --bg:#f6f7fb; --card:#ffffff; --glass:#ffffff; --text:#1f2937; --muted:#6b7280; --accent:#2563eb;
  --shadow: 0 10px 20px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
body{
  margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  background: var(--bg); color: var(--text);
}

/* Auth */
.auth-wrapper{
  min-height:100vh; display:grid; place-items:center; padding:24px;
}
.auth-box{
  width:min(420px, 95vw); padding:28px; background:var(--card); border-radius:16px; box-shadow:var(--shadow);
}
.auth-box h1{ margin-top:0; text-align:center; }
.auth-box h2{ margin-bottom:12px; }
.auth-box input{ width:100%; padding:12px 14px; margin:8px 0; border-radius:10px; border:1px solid #31364a; background:#0f1427; color:#fff; }
.auth-box .btn-primary{ width:100%; margin-top:10px; }
.auth-box a{ color:var(--accent); text-decoration:none; }

/* Buttons */
.btn-primary, .btn-secondary{
  padding:10px 14px; border:none; border-radius:12px; cursor:pointer; font-weight:600;
}
.btn-primary{ background:var(--accent); color:#05111a; }
.btn-secondary{ background:#374151; color:#fff; }
.icon-btn{ background:transparent; border:none; font-size:18px; cursor:pointer; color:var(--muted); }

/* Header */
.dash-header{
  display:grid; grid-template-columns: 240px 1fr auto; align-items:center; gap:12px;
  padding:14px 16px; position:sticky; top:0; background:linear-gradient(0deg, transparent, rgba(0,0,0,.3));
  z-index:20;
}
.title-center{ text-align:center; margin:0; }
.header-actions{ display:flex; gap:8px; }
.mode-toggle, .logout-btn{ padding:8px 12px; border-radius:10px; border:none; cursor:pointer; }
.mode-toggle{ background:var(--glass); color:var(--text); }
.logout-btn{ background:#ef4444; color:#fff; }

/* Profile chip + drawer */
.profile-chip{
  display:flex; align-items:center; gap:10px; background:var(--glass); color:var(--text);
  border:none; border-radius:999px; padding:8px 12px; cursor:pointer; box-shadow:var(--shadow);
}
.profile-chip span#profileAvatar{ font-size:22px; }
.profile-drawer{
  position:fixed; top:82px; left:16px; width:360px; max-width:92vw; background:var(--card);
  border-radius:16px; padding:14px; transform:translateY(-18px) scale(.98); opacity:0; pointer-events:none;
  transition:.2s ease; box-shadow:var(--shadow);
}
.profile-drawer.open{ transform:none; opacity:1; pointer-events:auto; }
.drawer-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
.profile-section{ display:flex; flex-direction:column; gap:6px; margin:10px 0; }
.profile-row{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
.profile-section input, .profile-section select{
  padding:10px 12px; border-radius:10px; border:1px solid #2a2f43; background:#0f1427; color:#fff;
}
.profile-stats{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin:12px 0; }
.stat{ background:var(--glass); padding:12px; border-radius:12px; }
.stat-label{ font-size:12px; color:var(--muted); }
.stat-value{ font-size:18px; font-weight:700; margin-top:4px; }
.achievements{ grid-column:1/-1; background:var(--glass); padding:10px; border-radius:12px; }
.achievements .ach-title{ font-weight:700; margin-bottom:8px; }
#achList{ margin:0; padding-left:18px; }

/* FAQ */
.faq{ margin-top:12px; }
.faq-item{ border-top:1px dashed #2e3348; }
.faq-q{
  width:100%; text-align:left; padding:10px 6px; background:transparent; color:var(--text); border:none; cursor:pointer;
}
.faq-q.open{ color:var(--accent); }
.faq-a{ max-height:0; overflow:hidden; transition:max-height .2s ease; color:var(--muted); padding:0 6px 0 6px; }

/* Tabs */
.tabs{ display:flex; gap:8px; padding:8px 16px; position:sticky; top:62px; z-index:10; }
.tab{
  padding:8px 12px; border-radius:999px; border:none; background:var(--glass); color:var(--text); cursor:pointer;
}
.tab.active{ outline:2px solid var(--accent); }

/* Layout */
.dash-main{
  display:grid; grid-template-columns: 360px 1fr; gap:16px; padding:16px;
}
@media (max-width: 980px){
  .dash-main{ grid-template-columns:1fr; }
}

/* Cards */
.glass-card{
  background:var(--card); border-radius:16px; box-shadow:var(--shadow); padding:16px;
}
.metric-card .metric-value{ font-size:34px; font-weight:800; margin:4px 0; }
.metric-status{ font-size:14px; color:var(--muted); }
.status-ok{ color:var(--ok); }
.status-warn{ color:var(--warn); }
.status-bad{ color:var(--bad); }

.chart-card canvas{ width:100%; max-height:360px; }

/* Mini grid */
.mini-grid{ display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; }
.mini{ padding:12px; }
.mini-title{ font-size:12px; color:var(--muted); }
.mini-value{ font-size:18px; font-weight:700; }

/* Toasts */
#toastContainer{ position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:50; }
.toast{ background:#1f2937; color:#fff; padding:10px 12px; border-radius:10px; box-shadow:var(--shadow); }
.toast-urgent{ background:#ef4444; }
.fade-out{ opacity:0; transform:translateY(8px); transition:.3s; }

/* History */
.history-card .history-header{
  display:flex; align-items:center; justify-content:space-between; margin-bottom:10px;
}
.history-grid{
  display:grid; grid-template-columns: repeat(4, 1fr); gap:14px;
}
@media (max-width: 1080px){
  .history-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px){
  .history-grid{ grid-template-columns: 1fr; }
}
.hist-list{ list-style:none; margin:0; padding:0; max-height:420px; overflow:auto; }
.hist-list li{
  display:flex; align-items:center; gap:10px; justify-content:space-between;
  border-bottom:1px dashed #2a2f43; padding:8px 0;
}
.hist-list .time{ color:var(--muted); font-size:12px; }
.hist-list .val{ font-weight:700; }
.trend{ font-weight:900; padding:2px 8px; border-radius:999px; background:#111827; }
.trend.up{ color:#22c55e; }
.trend.down{ color:#ef4444; }
.trend.flat{ color:#9ca3af; }
